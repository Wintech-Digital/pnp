---
import Hero from '@components/hero/Hero.astro';
import Layout from '@layout/Layout.astro';
import Section from '@components/accordion/AccordionSection.astro';
import WithBottom from '@components/spaces/WithBottom.astro';
import BannerItem1 from "@components/banner/BannerItem1.astro";


import BlockOfetas from '@content/home/BlockOfetas/BlockOfetas.astro';
import BlockSlotsList from '@content/home/BlockSlotsList/BlockSlotsList.astro';
import BlockConciseFormat from '@content/home/BlockConciseFormat/BlockConciseFormat.astro';
import BlockCasinoInfo from '@content/home/BlockCasinoInfo/BlockCasinoInfo.astro';
import BlockBonus from '@content/home/BlockBonus/BlockBonus.astro';
import BlockBonus2 from '@content/home/BlockBonus2/BlockBonus2.astro';
import BlockCasinoInfo2 from '@content/home/BlockCasinoInfo2/BlockCasinoInfo2.astro';
import BlockCasinoProviders from '@content/home/BlockCasinoProviders/BlockCasinoProviders.astro';
import BlockList from '@content/home/BlockList/BlockList.astro';
import BlockSuporte from '@content/home/BlockSuporte/BlockSuporte.astro';
import BlockInfo2 from '@content/home/BlockInfo2/BlockInfo2.astro';
import BlockInfo3 from '@content/home/BlockInfo3/BlockInfo3.astro';

import {fetchApi, endpoints} from '@api/index';
import AccordionContainer from '@components/accordion/AccordionContainer.astro';
import ShowContent from '@components/ShowContetnt';

const pageHomeSchema = await fetchApi({
    endpoint: endpoints.home,
});
const pageAttributes = pageHomeSchema['data']?.attributes;

const dataHero = pageAttributes?.hero;
const dataOfferSlider = pageAttributes?.offerSlider;
const dataSlotsList = pageAttributes?.slotsList;
const articleAnalises = pageAttributes?.analisesArticle;
const slider2 = pageAttributes?.slider2;
const bonuses = pageAttributes?.bonusSlider;
const bonusDescription = pageAttributes?.bonusDescription;
const promotions = pageAttributes?.promotions;
const guide = pageAttributes?.guide;
const payment = pageAttributes?.payment;
const availablegames = pageAttributes?.availablegames;
const appadvantages = pageAttributes?.appadvantages;
const banner = pageAttributes?.banner;
const strategies = pageAttributes?.strategies;
const support = pageAttributes?.support;
const infoSection = pageAttributes?.infoSection;
const faqData = pageAttributes?.faqBlock;
const dataSeo = pageAttributes?.seo;
const debug = false;
---
<Layout seo={dataSeo} heroPreload={dataHero}>
    <WithBottom>
        <Hero
            data={dataHero}
            mobileTopSpace="-mt-[25px]"
        />
    </WithBottom>

    {debug && 1}
    <div class="block sm:hidden">
        <BlockOfetas
            data={dataOfferSlider}
        />
    </div>

    {debug && 2}
    <BlockSlotsList
        data={dataSlotsList}
    />

    {debug && 3}
    <BlockConciseFormat
        data={articleAnalises}
    />

    {debug && 4}
    <ShowContent client:load>
        <WithBottom>
        <BlockCasinoInfo
            data={slider2}
        />
    </WithBottom>
</ShowContent>

    {debug && 5}
    <ShowContent client:load>
        <BlockBonus
        data={bonuses}
        bonusDescription={bonusDescription}
    />
</ShowContent>

    {debug && 6}
    <ShowContent client:load>
        <BlockBonus2
        data={promotions}
    />
</ShowContent>

    {debug && 7}
    <ShowContent client:load>
        <WithBottom>
        <BlockCasinoInfo2
            data={guide}
        />
    </WithBottom>    
</ShowContent>

    {debug && 8}
    <ShowContent client:load>
        <WithBottom>
        <BlockCasinoProviders
            data={payment}
        />
    </WithBottom>
</ShowContent>

   {debug && 9}
   <ShowContent client:load>
    <WithBottom>
        <BlockList
            data={availablegames}
        />
    </WithBottom>
</ShowContent>

    {debug && 10}
    <ShowContent client:load>
        <WithBottom>
        <BlockInfo2
            data={appadvantages}
        />
    </WithBottom>
</ShowContent>

    {debug && 11}
    <ShowContent client:load>
        <div class="mb-[32px]">
        <BannerItem1
            data={banner}
        />
    </div>
    </ShowContent>
     
    {debug && 12}
    <ShowContent client:load>
        <BlockInfo3
            data={strategies}
        />
    </ShowContent>
    
    {debug && 13}
    <ShowContent client:load>
    <div class="mb-[32px]">
        <BlockSuporte
            data={support}
        />
    </div>
    </ShowContent>

    {debug && 14}
    <ShowContent client:load>
        <WithBottom>
        <Section
            data={infoSection}
        />
        </WithBottom>
    </ShowContent>

    <WithBottom>
        <AccordionContainer
            data={faqData}
        />
    </WithBottom>
</Layout>