---
import Hero from '@components/hero/Hero.astro';
import Layout from '@layout/Layout.astro';
import Section from '@components/accordion/AccordionSection.astro';
import WithBottom from '@components/spaces/WithBottom.astro';
import BannerItem1 from "@components/banner/BannerItem1.astro";

import BlockOfetas from '@content/home/BlockOfetas/BlockOfetas.astro';
import BlockSlotsList from '@content/home/BlockSlotsList/BlockSlotsList.astro';
import BlockConciseFormat from '@content/home/BlockConciseFormat/BlockConciseFormat.astro';
import BlockCasinoInfo from '@content/home/BlockCasinoInfo/BlockCasinoInfo.astro';
import BlockBonus from '@content/home/BlockBonus/BlockBonus.astro';
import BlockBonus2 from '@content/home/BlockBonus2/BlockBonus2.astro';
import BlockCasinoInfo2 from '@content/home/BlockCasinoInfo2/BlockCasinoInfo2.astro';
import BlockCasinoProviders from '@content/home/BlockCasinoProviders/BlockCasinoProviders.astro';
import BlockList from '@content/home/BlockList/BlockList.astro';
import BlockSuporte from '@content/home/BlockSuporte/BlockSuporte.astro';
import BlockInfo2 from '@content/home/BlockInfo2/BlockInfo2.astro';
import BlockInfo3 from '@content/home/BlockInfo3/BlockInfo3.astro';

import {fetchApi, endpoints} from '@api/index';
import AccordionContainer from '@components/accordion/AccordionContainer.astro';

const pageHomeSchema = await fetchApi({
    endpoint: endpoints.home,
});

const dataHero = pageHomeSchema ? pageHomeSchema['data'].attributes?.hero : null;
const dataOfferSlider = pageHomeSchema ? pageHomeSchema['data']?.attributes?.offerSlider : null;
const dataSlotsList = pageHomeSchema ? pageHomeSchema['data']['attributes']['slotsList'] : null;
const articleAnalises = pageHomeSchema ? pageHomeSchema['data']['attributes']['analisesArticle'] : null;
const slider2 = pageHomeSchema ? pageHomeSchema['data']['attributes']['slider2'] : null;
const bonuses = pageHomeSchema ? pageHomeSchema['data']['attributes']['bonusSlider'] : null;
const bonusDescription = pageHomeSchema ? pageHomeSchema['data']['attributes']['bonusDescription'] : null;
// console.log('bonuses', bonuses);

const promotions = pageHomeSchema ? pageHomeSchema['data']['attributes']['promotions'] : null;
const guide = pageHomeSchema ? pageHomeSchema['data']['attributes']['guide'] : null;
const payment = pageHomeSchema ? pageHomeSchema['data']['attributes']['payment'] : null;
const availablegames = pageHomeSchema ? pageHomeSchema['data']['attributes']['availablegames'] : null;
const appadvantages = pageHomeSchema ? pageHomeSchema['data']['attributes']['appadvantages'] : null;
const banner = pageHomeSchema ? pageHomeSchema['data']['attributes']['banner'] : null;
const strategies = pageHomeSchema ? pageHomeSchema['data']['attributes']['strategies'] : null;
const support = pageHomeSchema ? pageHomeSchema['data']['attributes']['support'] : null;
const infoSection = pageHomeSchema ? pageHomeSchema['data']['attributes']['infoSection'] : null;
const faqData = pageHomeSchema ? pageHomeSchema['data']['attributes']['faqBlock']: null;
---
<Layout>
    <WithBottom>
        <Hero
            data={dataHero}
            mobileTopSpace="-mt-[50px]"
        />
    </WithBottom>

    <!-- 1 -->
    <div class="block sm:hidden">
        <BlockOfetas data={dataOfferSlider}/>
    </div>

    <!-- 2 -->
    <BlockSlotsList data={dataSlotsList}/>

    <!-- 3 -->
    <BlockConciseFormat data={articleAnalises}/>

    <!-- 4 -->
    <BlockCasinoInfo data={slider2}/>

    <!-- 5 -->
    <BlockBonus
        data={bonuses}
        bonusDescription={bonusDescription}
    />

    <!-- 6 -->
    <BlockBonus2
        data={promotions}
    />

    <!-- 7 -->
    <WithBottom>
        <BlockCasinoInfo2
            data={guide}
        />
    </WithBottom>    

    <!-- 8 Payment -->
    <WithBottom>
        <BlockCasinoProviders
            data={payment}
        />
    </WithBottom>

   <!-- 9 -->
   <WithBottom>
        <BlockList
            data={availablegames}
        />
    </WithBottom>

    <!-- 10 -->
    <WithBottom>
        <BlockInfo2
            data={appadvantages}
        />
    </WithBottom>

    <!-- 11 -->
    <BannerItem1
        data={banner}
    />
     
    <!-- 12 -->
    <BlockInfo3
        data={strategies}
    />
    
    <!-- 13 -->
    <BlockSuporte
        data={support}
    />

    <!-- 14 -->
    <WithBottom>
        <Section
            data={infoSection}
        />
    </WithBottom>

    <WithBottom>
        <AccordionContainer
            data={faqData}
        />
    </WithBottom>
</Layout>
