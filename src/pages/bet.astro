---
import {fetchApi, endpoints} from '@api/index';
import Layout from '@layout/Layout.astro';
import BlockLists from '@content/betting/BlockLists/BlockLists.astro';
import BlockSlider from '@content/betting/BlockSlider/BlockSlider.astro';
import BlockArticle from '@content/betting/BlockArticle/BlockArticle.astro';
import BannerItem from '@components/banner/BannerItem1.astro';
import WithBottom from '@components/spaces/WithBottom.astro';

const pageBetSchema = await fetchApi({
    endpoint: endpoints.bet,
});
const dataBanner = pageBetSchema ? pageBetSchema['data'].attributes?.banner : null;
const dataOverviewSportBet = pageBetSchema ? pageBetSchema['data'].attributes?.listsBlock : null;
const dataSlider = pageBetSchema ? pageBetSchema['data'].attributes?.slider : null;
const dataArticle = pageBetSchema ? pageBetSchema['data'].attributes?.betArticle : null;
const dataSeo = pageBetSchema ? pageBetSchema['data'].attributes?.seo : null;
---
<Layout seo={dataSeo}>
    <BannerItem
        data={dataBanner}
    />

    <BlockLists
        data={dataOverviewSportBet}
    />

    <WithBottom>
        <BlockSlider
            data={dataSlider}
        />
    </WithBottom>

    <WithBottom>
        <BlockArticle
            data={dataArticle}
        />
    </WithBottom>
</Layout>
