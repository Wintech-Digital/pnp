---
import TwoColomns50 from "@components/sections/TwoColomns50.astro";
import MobAppCard from "./MobAppCard.astro";
import ButtonRounded from "@components/buttons/ButtonRounded";
import MobApplePic from '@assets/images/MobApple.png';
import MobAndroidPic from '@assets/images/MobAndroid.png';
import appleIcon from "@assets/svg/apple.svg";
import androidIcon from "@assets/svg/android.svg";
import RichText from "@components/richtext/RichText.astro";

const {cardTitle = [], data = []} = Astro.props;
const cards = data.map((item) => {
    const texts = item.texts;
    const images = item.images;
    const button = item.button[0];    
    return ({
        texts,
        images,
        button,
    })
})

const iosCard = cards[0];
const andriodCard = cards[1];

const iosIconAlt = iosCard?.images?.data[0]?.attributes?.alternativeText || '';
const andriodIconAlt = andriodCard?.images?.data[0]?.attributes?.alternativeText || '';
const iosImgAlt = iosCard?.images?.data[1]?.attributes?.alternativeText || '';
const andriodImgAlt = andriodCard?.images?.data[1]?.attributes?.alternativeText || '';
---

{!!cardTitle?.length && 
    <RichText
        data={cardTitle}
    >
}
<TwoColomns50 stretch>
        <MobAppCard
            slot="first-col"
            icon={appleIcon}
            iconAlt={iosIconAlt}
            pic={MobApplePic}
            picAlt={iosImgAlt}
            title="IOS App"
            description="Uma colorida slot infernal com símbolos ardentes e grandes prémios."
            style="red"
        >
            <ButtonRounded
                size="xl"
                color={iosCard.button.type}
                title={iosCard.button.name}
                link={iosCard.button.link}
                className="w-full sm:w-auto"
            />
        </MobAppCard>
        
        <MobAppCard
            slot="second-col"
            icon={androidIcon}
            iconAlt={andriodIconAlt}
            pic={MobAndroidPic}
            picAlt={andriodImgAlt}
            title="Android App"
            description="Mergulhe numa aventura emocionante com personagens únicas e grandes prémios."
            style="green"
        >
            <ButtonRounded
                size="xl"
                color={andriodCard.button.type}
                title={andriodCard.button.name}
                link={andriodCard.button.link}
                className="w-full sm:w-auto"
            />
        </MobAppCard>
    </TwoColomns50>