---
import { STRAPI_URL } from "@constants";
import RichText from "@components/richtext/RichText.astro";

const {data} = Astro.props;
const availablegamestitle = data?.availablegamestitle;
const availablegameslist = data?.availablegameslist;
---
<RichText
    data={availablegamestitle}
    classList="mb-4 sm:mb-8"
/>
<section class="bg-pnp/[.03] border border-pnp/[.1] relative rounded-[24px] sm:rounded-[30px] px-[24px] py-[24px] sm:px-[32px] sm:py-[32px] bg-gradient-to-bl from-pnp-red/[.4] to-50% ">
    <ul class="flex flex-col gap-[24px]">
        {
            availablegameslist.map(item=>{
                const isImage = item.coverImage.data
                const imageAttributes = isImage.attributes;
                const icon = isImage ? `${STRAPI_URL}${imageAttributes.url}` : ''; 
                return (
                    <li class="flex flex-col sm:flex-row gap-4 border-t border-[#ffffff]/[.2] pt-4 first:border-t-0 first:pt-0">
                        <div class="relative bg-pnp-black/[.2] flex items-center justify-center h-[100px] w-[100px] min-w-[100px] rounded-full">
                            <img
                                src={icon}
                                width={imageAttributes.width}
                                height={imageAttributes.height}
                                loading="lazy"
                                alt=""
                                class="z-10"
                            />    
                        </div>
                        <div>
                            <RichText
                                data={item.description}
                                styles={{
                                    h3: 'mb-4'
                                }}
                            />
                        </div>
                    </li>
                )
            })
        }
    </ul>
</section>